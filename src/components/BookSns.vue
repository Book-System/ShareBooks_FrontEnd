<template>
    <div class="container">
        <div class="banner">
            <div>
                <span class="banner_mypage">ÏâêÏñ¥Î∂ÅÏä§ Ïª§ÎÆ§ÎãàÌã∞</span><br>
                <div class="banner_bar"></div>
            </div>
        </div>
    </div>
    <div style="background-color:#d7ccc856; padding-top: 40px; padding-bottom: 40px;">
        <div style=" padding-top:20px; display: flex; justify-content: right; align-items:right; width:74%;">
            <el-button type="primary" class="reply_btn" size="small" @click=" handleInsertEdit()">Í∏ÄÏì∞Í∏∞‚úçüèª </el-button>
        </div> 
        <div class="jc_center" v-for="sns in snses" :key="sns">
            <el-card class="box-card" shadow="hover" style="width: 750px; height:100%; padding: 30px; color: #3D3D3D">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="width: 50%; text-align: left;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="width: 15%; ">
                                <img :src="memberUrl+sns.member" style="width: 40px; height: 40px; border-radius: 100%; object-fit: cover; border: 2.3px solid #5B6EBC;">
                            </div>
                            <div style="width: 85%;">
                                <span style="font-size: 18px;">{{sns.memberName}}</span><br>
                                <span style="font-size: 14px; color: #65676B;">{{$dayjs(sns.regdate).fromNow()}}</span>
                            </div>
                        </div>
                    </div>
                    <div style="width: 50%; text-align: right;">
                        <div v-if="sns.member !== userinfo.id">
                            <i class="el-icon-more"></i>
                        </div>
                        <div v-if="sns.member === userinfo.id">
                            <el-dropdown>
                                <span class="el-dropdown-link">
                                    <i class="el-icon-more"></i>
                                </span>
                                <template #dropdown>
                                    <el-dropdown-menu style="font-family: 'Jua', sans-serif;">
                                        <el-dropdown-item @click="handleUpdateEdit(sns.snsNo)">ÏàòÏ†ï</el-dropdown-item>
                                        <el-dropdown-item @click="handleDelete(sns.snsNo)">ÏÇ≠Ï†ú</el-dropdown-item>
                                    </el-dropdown-menu>
                                </template>
                            </el-dropdown>
                        </div>
                    </div>
                </div><br/>
                <div style="text-align: left; margin-bottom: 10px;">
                    <span style="font-size: 24px;">{{sns.title}}</span><br>
                </div>                  
                <div class="content" style="font-size: 20px; text-align: left;">
                    {{sns.content}}
                </div>
                <br />
                <div class="image_center" v-if="sns.count === 1">
                    <el-image style="width: 100%; height: 100%" :src="`${url} + ${sns.snsNo}&priority=0`" :preview-src-list="handleUrl(srcList1[0], sns.snsNo)">
                    </el-image>
                </div>
                <div class="image_center" v-if="sns.count === 2">
                    <el-image style="width: 50%; height: 50%" :src="`${url} + ${sns.snsNo}&priority=0`" :preview-src-list="handleUrl(srcList2[0], sns.snsNo)">
                    </el-image>
                    <div style="margin: 6px;"></div>
                    <el-image style="width: 50%; height: 50%" :src="`${url} + ${sns.snsNo}&priority=1`" :preview-src-list="handleUrl(srcList2[1], sns.snsNo)">
                    </el-image>
                </div>
                <div class="image_center" v-if="sns.count === 3">
                    <el-image style="width: 33%; height: 33%" :src="`${url} + ${sns.snsNo}&priority=0`" :preview-src-list="handleUrl(srcList3[0], sns.snsNo)">
                    </el-image>
                    <div style="margin: 6px;"></div>
                    <el-image style="width: 33%; height: 33%" :src="`${url} + ${sns.snsNo}&priority=1`" :preview-src-list="handleUrl(srcList3[1], sns.snsNo)">
                    </el-image>
                    <div style="margin: 6px;"></div>
                    <el-image style="width: 33%; height: 33%" :src="`${url} + ${sns.snsNo}&priority=2`" :preview-src-list="handleUrl(srcList3[2], sns.snsNo)">
                    </el-image>
                </div>
                <br />
                <div style="margin-right:650px;" v-for="good in goods" :key="good">
                    <div v-if="good.snsNo === sns.snsNo && good.good !== null">‚ù§Ô∏è{{good.good}}</div>
                    <div v-if="good.snsNo === sns.snsNo && good.good === null">‚ù§Ô∏è{{'0'}}</div>
                    <!-- <div v-if="sns.good !== null">‚ù§Ô∏è{{sns.good}}</div>
                    <div v-if="sns.good === null">‚ù§Ô∏è{{'0'}}</div> -->
                </div>
                <br />
                <div class="line"></div><br />
                <div style="display:flex;">
                    <div v-for="good in goods" :key="good">
                        <div v-if="good.snsNo === sns.snsNo && good.please === null"><button class="btn" @click="handleLike(sns.snsNo)">‚ù§Ô∏è Í≥µÍ∞êÌïòÍ∏∞</button></div>
                        <div v-if="good.snsNo === sns.snsNo && good.please !== null"><button class="btn" @click="handleLike(sns.snsNo)">ü§ç Í≥µÍ∞êÏ∑®ÏÜå</button></div>
                    </div>
                    <div v-for="good in goods" :key="good">
                        <div v-if="good.snsNo === sns.snsNo && good.reply === null">
                            <button class="btn" @click="handle_toggle(sns.snsNo),selectReply(sns.snsNo)">üí¨ ÎåìÍ∏Ä{{'(0)'}}</button>
                        </div>
                        <div v-if="good.snsNo === sns.snsNo && good.reply !== null">
                            <button class="btn" @click="handle_toggle(sns.snsNo),selectReply(sns.snsNo)">üí¨ ÎåìÍ∏Ä{{'('+good.reply+')'}}</button>
                        </div>
                    </div>
                </div><br />
                <div class="line"></div><br />
                <!-- ÎåìÍ∏Ä ÎàÑÎ•¥Î©¥ ÎÇòÏò§Îäî ÎåìÍ∏ÄÏì∞Í∏∞ -->
                <div v-if="toggles[sns.snsNo]=== true">
                    <div>
                        <el-input type="textarea" :rows="2" placeholder="ÎåìÍ∏ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" v-model="reply"></el-input>
                    </div><br />
                    <div style="display: flex; justify-content: right; align-items: right; mergin-top:10px;">
                        <el-button type="primary" class="reply_btn" size="small" @click="handleReply(sns.snsNo)">ÎåìÍ∏ÄÏì∞Í∏∞</el-button>
                    </div>
                    <div style="display:flex;" v-for="reply in replys" :key="reply">

                        <!--ÎåìÍ∏Ä ÌîÑÎ°úÌïÑÏù¥ÎØ∏ÏßÄ -->
                        <div class="box" style="background: #BDBDBD; margin-top:20px; ">
                            <img :src="memberUrl+reply.member" style="width: 100%; height: 100%; border-radius: 100%; object-fit: cover; border: 1.5px solid #C1C0C1;">
                        </div>&emsp;


                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="padding-top:20px; padding-left:20px;">
                                <div style="display:flex;">
                                    <div>{{reply.memberName}}</div>
                                    <div style="padding-left:10px;">{{$dayjs(reply.regdate).fromNow()}}</div>
                                </div>
                                <div style="display:flex;">
                                    <span style="padding-top:12px; padding-right:13px;">{{reply.content}}</span>
                                    <el-button type="text" v-if="reply.member === userinfo.id" @click="DeleteReply(reply.snsreplyNo,reply.snsNo);"> ‚ùå </el-button>                                    
                                </div>

                            </div>

                        </div>
                    </div>
                    <div class="line"></div>
                </div><br />
            </el-card><br />
        </div>
    </div>
        <!-- SNS ÏàòÏ†ïÌïòÍ∏∞ Îã§Ïù¥ÏñºÎ°úÍ∑∏ -->
        <el-dialog title="ÏàòÏ†ïÌïòÍ∏∞" v-model="updateEdit" width="50%" :before-close="handleClose"> 
                <div  class="jc_between">                                                            
            <div style="width: 20%;">
                <span>Ï†úÎ™©</span>
            </div>
            <div style="width: 80%;">
                <el-input v-model="updateTitle" @blur="checkTitle" placeholder="Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></el-input>                    
            </div>
                </div><br/>
            <div class="line"></div><br>
            <div class="jc_between">            
            <div style="width: 20%;">
                <span>ÎÇ¥Ïö©</span>
            </div>
            <div style="width: 80%;">
                <el-input type="textarea" cols="30" rows="10" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" v-model="updateContent" @blur="checkContent">
                </el-input>                    
            </div>
                </div><br/>
            <div class="line"></div><br>
                <div class="jc_between">
            <div style="width: 20%;">
                <span>ÏÇ¨ÏßÑ</span>
            </div>
            <div style="width: 80%;">
                <el-upload action="https://jsonplaceholder.typicode.com/posts/" list-type="picture-card" limit="3" :file-list="fileList" :on-success="handleImageCardPreview" :on-remove="handleImageRemove" :on-exceed="handleExceed">
                    <i class="el-icon-plus"></i>
                </el-upload>
                <el-dialog v-model="imageDialogVisible">
                    <img width="100%" :src="dialogImageUrl" alt="" />
                </el-dialog>
            </div>
                </div><br/>
            <template #footer>
                <span class="dialog-footer">
                    <el-button round @click="updateEdit = false">Ï∑®ÏÜå</el-button>
                    <el-button class="end_btn" round type="primary" @click="handleSnsUpdate(updatesns.snsNo)">ÏàòÏ†ï</el-button>
                </span>
            </template>
        </el-dialog>

        <!-- SNS Í∏ÄÏì∞Í∏∞ Îã§Ïù¥ÏñºÎ°úÍ∑∏ -->           
        <el-dialog title="Ïª§ÎÆ§ÎãàÌã∞ Í∏ÄÏì∞Í∏∞" v-model="insertEdit" width="50%" :before-close="handleClose">  
            <div  class="jc_between">                                                                
                <div style="width: 20%;">
                    <span>Ï†úÎ™©</span>
                </div><br/>
                <div style="width: 80%;">
                    <el-input v-model="title" @blur="checkTitle" placeholder="Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></el-input>                    
                </div><br/>
            </div><br/>
            <div class="line"></div><br>
            
            <div  class="jc_between">     
                <div style="width: 20%;">
                    <span>ÎÇ¥Ïö©</span>
                </div><br/>
            
                <div style="width: 80%;">
                    <el-input type="textarea" cols="30" rows="10" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" v-model="content" @blur="checkContent">
                    </el-input>                    
                </div>
            </div><br/>
                <div class="line"></div><br>
                <div  class="jc_between">   
                <div style="width: 20%;">
                    <span>ÏÇ¨ÏßÑ</span>
                </div>
                <div style="width: 80%;">
                    <el-upload action="https://jsonplaceholder.typicode.com/posts/" limit="3" list-type="picture-card" :on-remove="handleRemove" :on-success="handlePictureCardPreview" :on-exceed="handleExceed">
                            <i class="el-icon-plus"></i>
                        </el-upload>
                        <el-dialog v-model="dialogVisible">
                            <img width="100%" :src="dialogImageUrl" alt="" />
                        </el-dialog>
                </div>
                </div><br/>
                <div class="line"></div><br>
            <template #footer>
                <span class="dialog-footer">
                    <el-button round @click="insertEdit = false">Ï∑®ÏÜå</el-button>
                    <el-button class="end_btn" round type="primary" @click="handleSnsInsert()">Í∏ÄÏì∞Í∏∞</el-button>
                </span>
            </template>
        </el-dialog>
            

</template>

<script>
    import axios from 'axios';
    export default {
        data() {
            return {
                // Í∏ÄÏì∞Í∏∞                
                title: '',
                content: '',
                // Î°úÍ∑∏Ïù∏Îêú ÌöåÏõêÏ†ïÎ≥¥
                userinfo: '',
                // Ïù¥ÎØ∏ÏßÄ
                url: '',
                memberUrl: '',                
                srcList1: [
                    `http://localhost:9090/REST/api/sns/select/image?priority=0&snsNo=`
                ],
                srcList2: [
                    `http://localhost:9090/REST/api/sns/select/image?priority=0&snsNo=`,
                    `http://localhost:9090/REST/api/sns/select/image?priority=1&snsNo=`
                ],
                srcList3: [
                    `http://localhost:9090/REST/api/sns/select/image?priority=0&snsNo=`,
                    `http://localhost:9090/REST/api/sns/select/image?priority=1&snsNo=`,
                    `http://localhost:9090/REST/api/sns/select/image?priority=2&snsNo=`
                ],
                // Ï¢ãÏïÑÏöî
                goods: [],                
                // ÏàòÏ†ïÎ™©Î°ù
                updatesns:'',
                // Í∏ÄÏàòÏ†ï
                updateTitle: '',
                updateContent: '',
                // ÎåìÍ∏Ä?                            
                reply: '',
                // snsÎ™©Î°ù
                snses: [],
                //                
                liked: false,
                // ÎåìÍ∏Ä Î™©Î°ù
                replys: [],
                // ÎåìÍ∏ÄÏ∞Ω
                toggles: [],
                // Í∏ÄÏì∞Í∏∞ Îã§Ïù¥ÏñºÎ°úÍ∑∏
                insertEdit: false,
                // ÏàòÏ†ïÌïòÍ∏∞ Îã§Ïù¥ÏñºÎ°úÍ∑∏
                updateEdit: false,
                // Ïù¥ÎØ∏ÏßÄ Îã§Ïù¥ÏñºÎ°úÍ∑∏
                dialogVisible: false,
                // Í∏ÄÏì∞Í∏∞ Ïù¥ÎØ∏ÏßÄ
                fileList: [],
                // ÏàòÏ†ïÌïòÍ∏∞ Ïù¥ÎØ∏ÏßÄ
                imageList: [],
                priorityList: [],

            }
        },
        async created() {
            await this.MemberSelect();
            await this.SnsAllSelect();
            await this.SnsGoodSelect();
        },
        methods: {
            //Î°úÍ∑∏Ïù∏Ìïú user Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞
            async MemberSelect() {
                const url = '/REST/api/member/memberGet';
                const headers = {
                    "Content-Type": "application/json",
                    "token": sessionStorage.getItem("TOKEN")
                };
                const response = await axios.get(url, {
                    headers
                });
                //console.log(response);
                if (response.data.result === 1) {
                    // Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞ itemsÎ≥ÄÏàòÏóê ÎÑ£Í∏∞
                    this.userinfo = response.data.member;
                    console.log("userinfo", response.data.member);
                }
            },
            
            //sns Í∏Ä Í∞ÄÏ†∏Ïò§Í∏∞(Î™®Îì†Í∏Ä)
            async SnsAllSelect() {
                const url = `/REST/api/sns/select/all`;
                const headers = {
                    "Content-Type": "application/json",
                    "token": sessionStorage.getItem("TOKEN")
                };
                const response = await axios.get(url, {
                    headers
                });

                if (response.data.status === 200) {
                    this.snses = response.data.sns;
                    console.log("snses", response.data.sns);
                    this.url = 'http://localhost:9090/REST/api/sns/select/image?snsNo=';
                    this.memberUrl = `http://localhost:9090/REST/api/member/image?memberid=`;
                }
            },

            // Í∏ÄÏì∞Í∏∞
            async handleSnsInsert(){
                const url = '/REST/api/sns/insert'
                const headers = {
                    "Content-Type": "multipart/form-data",
                    "token": sessionStorage.getItem("TOKEN")
                }

                const formData = new FormData();

                formData.append("title", this.title),
                    formData.append("content", this.content)

                if (this.fileList.length === 1) {
                    formData.append("file", this.fileList[0].raw);
                } else if (this.fileList.length === 2) {
                    formData.append("file", this.fileList[0].raw);
                    formData.append("file", this.fileList[1].raw);
                } else if (this.fileList.length === 3) {
                    formData.append("file", this.fileList[0].raw);
                    formData.append("file", this.fileList[1].raw);
                    formData.append("file", this.fileList[2].raw);
                }

                const response = await axios.post(url, formData, {
                    headers
                });
                console.log(response);
                if (response.data.result === 1) {
                    alert(response.data.data);
                    this.insertEdit = false;
                    await this.SnsAllSelect();
                } else {
                    alert('Í∏ÄÏì∞Í∏∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')
                }
            },

            // Í∏ÄÏàòÏ†ï
            async handleSnsUpdate(snsNo){
                const url = `/REST/api/sns/update`;
                const headers = {"Content-Type" : "multipart/form-data", "token" : sessionStorage.getItem("TOKEN")};

                const formData = new FormData();
                formData.append("snsNo", `${snsNo}`);
                formData.append("title", this.updateTitle);
                formData.append("content", this.updateContent);                

                // Ïö∞ÏÑ†ÏàúÏúÑ
                if(this.priorityList.length === 1){
                    formData.append("priority", parseInt(this.priorityList[0]) + 1);
                }else if(this.priorityList.length === 2){
                    formData.append("priority", parseInt(this.priorityList[0]) + 1);
                    formData.append("priority", parseInt(this.priorityList[1]) + 1);
                }else if(this.priorityList.length === 3){
                    formData.append("priority", parseInt(this.priorityList[0]) + 1);
                    formData.append("priority", parseInt(this.priorityList[1]) + 1);
                    formData.append("priority", parseInt(this.priorityList[2]) + 1);
                }
                // Ïù¥ÎØ∏ÏßÄ Îç∞Ïù¥ÌÑ∞
                if(this.imageList.length === 1){
                    formData.append("file", this.imageList[0].raw);
                }else if(this.imageList.length === 2){
                    formData.append("file", this.imageList[0].raw);
                    formData.append("file", this.imageList[1].raw);
                }else if(this.imageList.length === 3){
                    formData.append("file", this.imageList[0].raw);
                    formData.append("file", this.imageList[1].raw);
                    formData.append("file", this.imageList[2].raw);
                }

                const response = await axios.put(url, formData, {headers});                
                console.log("boardupdate", response);                  
                if (response.data.result === 1) {
                    alert(response.data.data);
                    this.updateEdit = false;                    
                    await this.SnsAllSelect();
                }
            },

            handleUrl(url, snsNo) {
                var array = [];
                const temp = url + snsNo;
                array.push(temp);                
                return array;
            },

            //snsÍ∏ÄÏÇ≠Ï†ú
            async handleDelete(val) {
                this.$confirm('Ïù¥Í∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?', 'Warning', {
                        confirmButtonText: 'OK',
                        cancelButtonText: 'Cancel',
                        type: 'warning'
                    }).then(async () => {
                        const url = `/REST/api/sns/delete?snsNo=${val}`;
                        const headers = {
                            "Content-Type": "application/json",
                            "token": sessionStorage.getItem("TOKEN")
                        }
                        const response = await axios.delete(url, {
                            headers
                        });
                        //console.log("ÏÇ≠Ï†úÍ≤∞Í≥º",response);

                        if (response.data.result === 1) {
                            this.$message({
                                type: 'success',
                                message: 'ÏÇ≠Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§'
                            })
                            await this.SnsAllSelect();
                        }

                    })
                    .catch(() => {
                        this.$message({
                            type: 'info',
                            message: 'ÏÇ≠Ï†úÍ∞Ä Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§',
                        })
                    })
            },
            //snsÍ∏ÄÏì∞Í∏∞Î°ú ÎàåÎ†ÄÏùÑ Îïå     
            async handleInsertEdit() {
                this.insertEdit = true;
            },

            //snsÍ∏Ä ÏàòÏ†ï ÎàåÎ†ÄÏùÑ Îïå
            async handleUpdateEdit(snsNo) {
                // Îã§Ïù¥Ïñ¥Î°úÍ∑∏ ÌëúÏãúÏó¨Î∂Ä
                this.updateEdit = true;

                // Îç∞Ïù¥ÌÑ∞ Î∞õÏïÑÏò§Í∏∞
                let url = `/REST/api/sns/select?snsNo=${snsNo}`;
                let headers = {"Content-Type" : "application/json"};
                let response = await axios.get(url, headers);
                console.log(response);                                
                if (response.data.status === 200) {
                    // Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞ itemsÎ≥ÄÏàòÏóê ÎÑ£Í∏∞                    
                    this.updatesns = response.data.sns;                      
                    this.updateTitle = this.updatesns.title;
                    this.updateContent = this.updatesns.content;                    
                }

                // Ïù¥ÎØ∏ÏßÄ Î∞õÏïÑÏò§Í∏∞
                url = `/REST/api/sns/image/priority?snsNo=${snsNo}`;
                headers = {"Content-Type": "application/json"};
                response = await axios.get(url, headers);     
                this.fileList = [];                                         
                if(response.data.sns.length > 0) {                    
                    // Ïù¥ÎØ∏ÏßÄ Í∞úÏàòÎßåÌÅº Î∞òÎ≥µÏàòÌñâ
                    for(let i = 0; i < response.data.sns.length; i++) {       
                        console.log(response.data.sns[i].priority);                 
                        var temp = {
                        priority: i,                            
                        url: `http://localhost:9090/REST/api/sns/select/image?snsNo=${snsNo}&priority=${response.data.sns[i].priority-1}`                        
                        }                                            
                        this.fileList.push(temp);
                    }
                }

            },

            // Ï¢ãÏïÑÏöî / Ï¢ãÏïÑÏöî Ï∑®ÏÜå
            async handleLike(snsNo) {
                const url = `/REST/api/sns/check/good?snsNo=${snsNo}`;
                const headers = {
                    "Content-Type": "application/json",
                    "token": sessionStorage.getItem("TOKEN")
                };
                const body = {}
                const response = await axios.post(url, body, {
                    headers
                });

                if (response.data.result === 1) {
                    this.liked = true;
                    alert(response.data.data);
                    await this.SnsGoodSelect();
                } else {
                    this.liked = false;
                    alert(response.data.data);
                    await this.SnsGoodSelect();
                }
            },

            //ÎåìÍ∏ÄÌÜ†Í∏ÄÏ∞Ω
            async handle_toggle(val) {
                this.toggles[val] = !this.toggles[val];                   
            },

            //ÎåìÍ∏ÄÏì∞Í∏∞
            async handleReply(val) {
                const url = '/REST/api/sns/insert/reply';
                const headers = {
                    "Content-Type": "application/json",
                    "token": sessionStorage.getItem("TOKEN")
                }
                const body = {
                    content: this.reply,
                    snsNo: val
                }
                const response = await axios.post(url, body, {
                    headers
                });
                console.log(response);
                if (response.data.result === 1) {
                    alert(response.data.data);
                    await this.selectReply(val);
                    await this.SnsGoodSelect();
                    this.reply = '';
                } else {
                    alert('ÎåìÍ∏ÄÏì∞Í∏∞Î•º Ïã§Ìå®ÌñàÏäµÎãàÎã§');
                }

            },

            //ÎåìÍ∏ÄÍ∞ÄÏ†∏Ïò§Í∏∞
            async selectReply(val) {
                const url = `/REST/api/sns/select/reply?snsNo=${val}`;
                const headers = {
                    "Content-Type": "application/json"
                };
                const response = await axios.get(url, headers);
                console.log(response);
                if (response.data.result === 1) {
                    this.replys = response.data.snsReply;
                    console.log("replys", response.data.snsReply);
                    this.memberUrl = `http://localhost:9090/REST/api/member/image?memberid=`;


                }

            },

            //ÎåìÍ∏ÄÏÇ≠Ï†ú
            async DeleteReply(val,snsNo) {
                this.$confirm('Ïù¥Í∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?', 'Warning', {
                        confirmButtonText: 'OK',
                        cancelButtonText: 'Cancel',
                        type: 'warning'
                    }).then(async () => {
                        const url = `/REST/api/sns/delete/reply?snsreplyNo=${val}`;
                        const headers = {
                            "Content-Type": "application/json",
                            "token": sessionStorage.getItem("TOKEN")
                        }
                        const response = await axios.delete(url, {
                            headers
                        });
                        //console.log("ÏÇ≠Ï†úÍ≤∞Í≥º",response);

                        if (response.data.result === 1) {
                            this.$message({
                                type: 'success',
                                message: 'ÏÇ≠Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§'
                            })
                            await this.selectReply(snsNo);
                        }

                    })
                    .catch(() => {
                        this.$message({
                            type: 'info',
                            message: 'ÏÇ≠Ï†úÍ∞Ä Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§',
                        })
                    })
            },

            // Îã§Ïù¥ÏñºÎ°úÍ∑∏ Îã´Í∏∞
            handleClose() {
                this.updateEdit = false;
                this.insertEdit = false;
            },

            // Í∏ÄÏì∞Í∏∞ Ïãú Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä, ÏÇ≠Ï†ú
            handleRemove(file, fileList) {
                console.log(file.url);
                console.log("ÏÇ≠Ï†úfile", file);
                console.log("ÏÇ≠Ï†úfileList", fileList);

            },
            handlePictureCardPreview(response, file, fileList) {
                console.log("response", response);
                console.log("file", file);
                console.log("fileList", fileList);
                this.fileList = fileList;

                this.dialogImageUrl = file.url;
                this.dialogVisible = false;
            },

            // ÏàòÏ†ï Ïãú Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä, ÏÇ≠Ï†ú
            handleImageRemove(file, fileList) {
                if(!this.priorityList.includes(file.priority)) {
                    this.priorityList.push(file.priority);
                }
                console.log("ÏÇ≠Ï†ú", file, fileList);             
            },
            handleImageCardPreview(response, file, fileList) {
                console.log("response", response);
                console.log("file", file);
                console.log("fileList", fileList);
                this.imageList.push(file);

                this.dialogImageUrl = file.url;
                this.imageDialogVisible = false;
            },
            handleExceed() {
                this.$message.warning('Ïù¥ÎØ∏ÏßÄÎäî ÏµúÎåÄ 3Ïû•ÍπåÏßÄ Ï≤®Î∂ÄÍ∞ÄÎä•Ìï©ÎãàÎã§.');
            },

            // ÎÇ†Ïßú Î≥ÄÌôò
            handleDate(value){
                // Îì§Ïñ¥Ïò§Îäî value Í∞íÏù¥ Í≥µÎ∞±Ïù¥Î©¥ Í∑∏ÎÉ• Í≥µÎ∞±ÏúºÎ°ú ÎèåÎ†§Ï§å
                if(value == '') return '';
            
                // ÌòÑÏû¨ Date ÌòπÏùÄ DateTime Îç∞Ïù¥ÌÑ∞Î•º javaScript date ÌÉÄÏûÖÌôî
                var js_date = new Date(value);

                // Ïó∞ÎèÑ, Ïõî, Ïùº Ï∂îÏ∂ú
                var year = js_date.getFullYear();
                var month = js_date.getMonth() + 1;
                var day = js_date.getDate();

                // Ïõî, ÏùºÏùò Í≤ΩÏö∞ ÌïúÏûêÎ¶¨ Ïàò Í∞íÏù¥ ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Í≥µÎ∞±Ïóê 0 Ï≤òÎ¶¨
                if(month < 10){
                    month = '0' + month;
                }

                if(day < 10){
                    day = '0' + day;
                }

                // ÏµúÏ¢Ö Ìè¨Îß∑ (ex - '2021-10-08')
                return year + '-' + month + '-' + day;
            },
//----------------------------------------------------------------------------------------------------------------------------------------

            //sns Ï¢ãÏïÑÏöî Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞
            async SnsGoodSelect() {
                const url = `/REST/api/sns/select/good`;
                const headers = { "Content-Type": "application/json",
                "token" : sessionStorage.getItem("TOKEN") };
                const response = await axios.get(url, {headers});                
                if (response.data.status === 200) {
                    this.goods = response.data.sns;
                    console.log("goods", response.data.sns[0]);                    
                }
            },

//---------------------------------------------------------------------------------------------------------------------------------------- 
            
        }
    }
</script>

<style scoped>
    .container {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .content {
        white-space: pre-line
    }

    .banner {
        padding-top: 30px;
        width: 100%;
        height: 280px;
        background-color: #202E3F;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .banner_mypage {
        color: #fff;
        font-size: 40px;
    }

    .banner_bar {
        display: inline-block;
        width: 110px;
        height: 4px;
        background-color: #5B60AE;
    }

    .jc_center {
        display: flex;
        justify-content: center;
        align-items: center;
        padding-top: 10px;
        padding-bottom: 10px;
    }

    .box {
        width: 35px;
        height: 35px;
        border-radius: 70%;
        overflow: hidden;
    }

    .profile {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .thumbnail {
        width: 200px;
        height: 200px;
    }

    .img {
        margin: 2px;
    }

    .image_center {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .line {
        width: 100%;
        height: 1px;
        background-color: #E8E8E8;
        clear: both;
        margin-left: auto;
        margin-right: auto;
    }

    .btn {
        background-color: transparent;
        border: none;
        cursor: pointer;
        vertical-align: top;
        font-family: 'Jua', sans-serif;
        font-size: 16px;
    }

    .btn1 {
        background-color: transparent;
        cursor: pointer;
        vertical-align: top;
        font-family: 'Jua', sans-serif;
        font-size: 15px;
        color: black;
    }

    .reply_btn {
        background-color: #5B6EBC;
        font-family: 'Jua', sans-serif;
        border: none;
        font-size: 15px;
    }
    .jc_between {
    display: flex; 
    justify-content: space-between; 
    align-items: center;
}
</style>